{% extends "wiki/base.html" %}
{% load static %}
{% load markdown_converter %}
{% block content %}
    <div class="px-4 py-4 my-4 align-middle hero" style="background-image: linear-gradient(to bottom, transparent, #2d2d2d), url('{{ content.cover_image.url }}');">
        <div class="container align-middle">
            <div class="row">
<!--                TODO: Add popper-->
                <p></p>
                {% if content.verified %}
                    <a href="{% url "profile" user_detail.1.id %}" class="hvr-picture-bounce text-decoration-none spacing-hover"><p class="text-muted"><img src="{{ user_detail.1.profile.image.url }}" alt="{{ user_detail.1.username }}" width="32" height="32" class="rounded-circle hvr-icon" style="transition: 0.2s"> {{ user_detail.1.username }} <i class="fas hvr-icon fa-check-circle icon-menu"></i></p></a>
                {% else %}
                    <a href="{% url "profile" user_detail.1.id %}" class="hvr-picture-bounce text-decoration-none spacing-hover"><p class="text-muted"><img src="{{ user_detail.1.profile.image.url }}" alt="{{ user_detail.1.username }}" width="32" height="32" class="rounded-circle hvr-icon" style="transition: 0.2s"> {{ user_detail.1.username }}</p></a>
                {% endif %}

                <div><h1 class="display-5 fw-bold">{{ content.name }}</h1></div>
                <p>{{ content.description }}</p>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            {% if user.is_authenticated %}
            <div class="col-sm-2 hvr-icon-bounce">
                <p><a class="text-decoration-none text-center spacing-hover-short" target="_blank" href="{% url "edit_wiki" content.slug %}"><i class="fas fa-edit icon-menu hvr-icon"></i> Edit This Page</a></p>
            </div>
            {% endif %}
            <div class="col-sm-2 hvr-icon-bounce">
                <p><a class="text-decoration-none text-center spacing-hover-short" target="_blank" href="#"><i class="fas fa-download icon-menu hvr-icon"></i> Download</a></p>
            </div>
        </div>
        <div class="row">
             {% if messages %}
                {% for message in messages %}
                    {% if message.tags == "success"%}
                        <div class="alert alert-success">
                            <i class="fas fa-check"></i> {{ message }}
                        </div>
                    {% endif %}
                    {% if message.tags == "error"%}
                        <div class="alert alert-danger">
                            <i class="fas fa-times"></i> {{ message }}
                        </div>
                    {% endif %}
                {% endfor %}
              {% endif %}
        </div>
        <div class="row" id="last-edit">
            <p class="text-muted">Last edited by <a href="{% url "profile" user_detail.2.id %}" class="hvr-picture-bounce text-decoration-none spacing-hover"><img src="{{ user_detail.2.profile.image.url }}" alt="{{ user_detail.2.username }}" width="32" height="32" class="rounded-circle hvr-icon"> {{ user_detail.2.username }}</a> at {{ content.last_edited_at|date:"F j, Y h:i A" }} UTC</p>
        </div>
        <div class="row">
            <div class="col-sm-9" id="wiki">
                {{ content.content | convert_markdown | safe }}
                <p></p>
            </div>
            <style>
                .info-box {
                    background-color: #4a4a4a;
                }
            </style>
            <div class="col-sm-3 gap-3" id="infobox">
                <div class="row rounded info-box">
                    <img src="https://github.com/LumpBloom7/sentakki/blob/master/assets/logov3.png?raw=true">
                    <h2 class="text-center">Sentakki</h2>
                    <dl class="row">
                        <dt class="col-sm-5">Creator</dt>
                        <dd class="col-sm-7"><a href="#" class="hvr-picture-bounce"><img src="https://github.com/LumpBloom7.png" alt="Bloom" width="32" height="32" class="rounded-circle hvr-bounce-in hvr-icon"> Bloom</a></dd>

                        <dt class="col-sm-5">Status</dt>
                        <dd class="col-sm-7">Active Development</dd>

                        <dt class="col-sm-5">Availability</dt>
                        <dd class="col-sm-7">Available publicly</dd>
                    </dl>
                </div>
                <p></p>
                <div class="row">
<!--                    TODO: Pop up box for support creator-->
                    <p><a class="text-decoration-none text-center spacing-hover-short hvr-icon-bounce" target="_blank" href="https://github.com/LumpBloom7/sentakki"><i class="fa fa-github icon-menu hvr-icon"></i> GitHub Repositories</a></p>
                    <p><a class="text-decoration-none text-center spacing-hover-short hvr-icon-bounce" target="_blank" href="https://discord.gg/CQPNADu"><i class="fab fa-discord icon-menu hvr-icon"></i> Discord</a></p>
                    <p><a class="text-decoration-none text-center spacing-hover-short hvr-icon-bounce" target="_blank" href="https://discord.gg/CQPNADu"><i class="fas fa-heart icon-menu hvr-icon"></i> Support the creator</a></p>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}